{"ast":null,"code":"import axios from 'axios';\nimport { BehaviorSubject } from 'rxjs';\nconst API_URL = 'http://host.docker.internal:8765/api/user/service/';\nconst currentUserSubject = new BehaviorSubject(JSON.parse(localStorage.getItem('currentUser')));\nclass UserService {\n  get currentUserValue() {\n    return currentUserSubject.value;\n  }\n  get currentUser() {\n    return currentUserSubject.asObservable();\n  }\n  login(user) {\n    const headers = {\n      authorization: 'Basic ' + btoa(user.username + ':' + user.password)\n    };\n    return axios.get(API_URL + 'login', {\n      headers: headers\n    }).then(response => {\n      localStorage.setItem('currentUser', JSON.stringify(response.data));\n      currentUserSubject.next(response.data);\n    });\n  }\n  logOut(user) {\n    return axios.get(API_URL + 'logout/' + user.username, {}).then(response => {\n      localStorage.removeItem('currentUser');\n      currentUserSubject.next(null);\n    });\n  }\n  register(user) {\n    return axios.post(API_URL + 'registration', JSON.stringify(user), {\n      headers: {\n        'Content-Type': 'application/json; charset=UTF-8'\n      }\n    });\n  }\n}\nexport default new UserService();","map":{"version":3,"names":["axios","BehaviorSubject","API_URL","currentUserSubject","JSON","parse","localStorage","getItem","UserService","currentUserValue","value","currentUser","asObservable","login","user","headers","authorization","btoa","username","password","get","then","response","setItem","stringify","data","next","logOut","removeItem","register","post"],"sources":["/Users/vladprundus/Documents/soa/project/Service-Oriented-Architecture/soa-client/src/services/user.service.js"],"sourcesContent":["import axios from 'axios';\nimport {BehaviorSubject} from 'rxjs';\n\nconst API_URL = 'http://host.docker.internal:8765/api/user/service/';\n\nconst currentUserSubject = new BehaviorSubject(JSON.parse(localStorage.getItem('currentUser')));\nclass UserService {\n  get currentUserValue(){\n    return currentUserSubject.value;\n  }\n\n  get currentUser(){\n    return currentUserSubject.asObservable();\n  }\n\n  login(user){\n    const headers = {\n      authorization:'Basic ' + btoa(user.username + ':' + user.password)\n    };\n    return axios.get(API_URL + 'login', {headers: headers}).then(response => {\n      localStorage.setItem('currentUser', JSON.stringify(response.data));\n      currentUserSubject.next(response.data);\n    });\n  }\n\n  logOut(user){\n    return axios.get(API_URL + 'logout/' + user.username, {}).then(response => {\n      localStorage.removeItem('currentUser');\n      currentUserSubject.next(null);\n    })\n  }\n\n  register(user){\n    return axios.post(API_URL + 'registration', JSON.stringify(user),\n  {headers: {'Content-Type':'application/json; charset=UTF-8'}});\n  }\n\n}\n\nexport default new UserService();\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,eAAe,QAAO,MAAM;AAEpC,MAAMC,OAAO,GAAG,oDAAoD;AAEpE,MAAMC,kBAAkB,GAAG,IAAIF,eAAe,CAACG,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;AAC/F,MAAMC,WAAW,CAAC;EAChB,IAAIC,gBAAgB,GAAE;IACpB,OAAON,kBAAkB,CAACO,KAAK;EACjC;EAEA,IAAIC,WAAW,GAAE;IACf,OAAOR,kBAAkB,CAACS,YAAY,EAAE;EAC1C;EAEAC,KAAK,CAACC,IAAI,EAAC;IACT,MAAMC,OAAO,GAAG;MACdC,aAAa,EAAC,QAAQ,GAAGC,IAAI,CAACH,IAAI,CAACI,QAAQ,GAAG,GAAG,GAAGJ,IAAI,CAACK,QAAQ;IACnE,CAAC;IACD,OAAOnB,KAAK,CAACoB,GAAG,CAAClB,OAAO,GAAG,OAAO,EAAE;MAACa,OAAO,EAAEA;IAAO,CAAC,CAAC,CAACM,IAAI,CAACC,QAAQ,IAAI;MACvEhB,YAAY,CAACiB,OAAO,CAAC,aAAa,EAAEnB,IAAI,CAACoB,SAAS,CAACF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAClEtB,kBAAkB,CAACuB,IAAI,CAACJ,QAAQ,CAACG,IAAI,CAAC;IACxC,CAAC,CAAC;EACJ;EAEAE,MAAM,CAACb,IAAI,EAAC;IACV,OAAOd,KAAK,CAACoB,GAAG,CAAClB,OAAO,GAAG,SAAS,GAAGY,IAAI,CAACI,QAAQ,EAAE,CAAC,CAAC,CAAC,CAACG,IAAI,CAACC,QAAQ,IAAI;MACzEhB,YAAY,CAACsB,UAAU,CAAC,aAAa,CAAC;MACtCzB,kBAAkB,CAACuB,IAAI,CAAC,IAAI,CAAC;IAC/B,CAAC,CAAC;EACJ;EAEAG,QAAQ,CAACf,IAAI,EAAC;IACZ,OAAOd,KAAK,CAAC8B,IAAI,CAAC5B,OAAO,GAAG,cAAc,EAAEE,IAAI,CAACoB,SAAS,CAACV,IAAI,CAAC,EAClE;MAACC,OAAO,EAAE;QAAC,cAAc,EAAC;MAAiC;IAAC,CAAC,CAAC;EAC9D;AAEF;AAEA,eAAe,IAAIP,WAAW,EAAE"},"metadata":{},"sourceType":"module"}