{"ast":null,"code":"var _jsxFileName = \"/Users/vladprundus/Documents/soa/project/Service-Oriented-Architecture/soa-client/src/pages/profile/profile.page.jsx\";\nimport React from 'react';\nimport UserService from '../../services/user.service';\nimport BookService from '../../services/book.service';\nexport default class ProfilePage extends React.Component {\n  constructor(props) {\n    super(props);\n    if (!UserService.currentUserValue) {\n      this.props.history.push('/');\n      return;\n    }\n    this.state = {\n      user: UserService.currentUserValue,\n      orders: []\n    };\n  }\n  componentDidMount() {\n    this.setState({\n      orders: {\n        loading: true\n      }\n    });\n    const user = this.state.user;\n    BookService.filterOrders(user.id).then(orders => {\n      this.setState({\n        orders: orders.data\n      });\n    });\n  }\n  render() {\n    const {\n      orders\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"display-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    }, \"Hello, \", this.state.user.name)), orders.loading && /*#__PURE__*/React.createElement(\"em\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 36\n      }\n    }, \"Loading orders...\"), orders.length > 0 && /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 29\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 29\n      }\n    }, \"Book Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 29\n      }\n    }, \"Book Author\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 29\n      }\n    }, \"Genre\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 29\n      }\n    }, \"Buy Date\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, orders.map((order, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: order.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 33\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 33\n      }\n    }, order.book.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 33\n      }\n    }, order.book.author), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 33\n      }\n    }, order.book.genre), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 33\n      }\n    }, order.dateOfIssue))))), orders.length === 0 && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, \"No orders so far\"));\n  }\n}","map":{"version":3,"names":["React","UserService","BookService","ProfilePage","Component","constructor","props","currentUserValue","history","push","state","user","orders","componentDidMount","setState","loading","filterOrders","id","then","data","render","name","length","map","order","index","book","author","genre","dateOfIssue"],"sources":["/Users/vladprundus/Documents/soa/project/Service-Oriented-Architecture/soa-client/src/pages/profile/profile.page.jsx"],"sourcesContent":["import React from 'react';\nimport UserService from '../../services/user.service';\nimport BookService from '../../services/book.service';\n\nexport default class ProfilePage extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        if (!UserService.currentUserValue) {\n            this.props.history.push('/');\n            return;\n        }\n\n        this.state = {\n            user: UserService.currentUserValue,\n            orders: []\n        };\n    }\n\n    componentDidMount() {\n        this.setState({\n            orders: {loading: true}\n        });\n        const user = this.state.user;\n        BookService.filterOrders(user.id).then(orders => {\n            this.setState({orders: orders.data});\n        });\n    }\n\n    render() {\n        const {orders} = this.state;\n        return (\n            <div className=\"col-md-12\">\n                <div className=\"jumbotron\">\n                    <h1 className=\"display-4\">Hello, {this.state.user.name}</h1>\n                </div>\n                {orders.loading && <em>Loading orders...</em>}\n                {orders.length > 0 &&\n                    <table className=\"table table-striped\">\n                        <thead>\n                        <tr>\n                            <th scope=\"col\">#</th>\n                            <th scope=\"col\">Book Name</th>\n                            <th scope=\"col\">Book Author</th>\n                            <th scope=\"col\">Genre</th>\n                            <th scope=\"col\">Buy Date</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {orders.map((order, index) =>\n                            <tr key={order.id}>\n                                <th scope=\"row\">{index + 1}</th>\n                                <td>{order.book.name}</td>\n                                <td>{order.book.author}</td>\n                                <td>{order.book.genre}</td>\n                                <td>{order.dateOfIssue}</td>\n                            </tr>\n                        )\n                        }\n                        </tbody>\n                    </table>\n                }\n                {orders.length === 0 &&\n                    <div>No orders so far</div>\n                }\n            </div>\n        );\n    }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}