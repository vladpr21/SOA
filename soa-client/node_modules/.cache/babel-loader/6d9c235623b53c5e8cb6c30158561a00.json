{"ast":null,"code":"var _jsxFileName = \"/Users/vladprundus/Documents/soa/project/Service-Oriented-Architecture/soa-client/src/pages/login/login.page.jsx\";\nimport React from 'react';\nimport UserService from '../../services/user.service';\nimport { User } from '../../models/user';\nimport './login.page.css';\nexport default class LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n    if (UserService.currentUserValue) {\n      this.props.history.push('/');\n    }\n    this.state = {\n      user: new User('', ''),\n      submitted: false,\n      loading: false,\n      errorMessage: ''\n    };\n  }\n  handleChange(e) {\n    var {\n      name,\n      value\n    } = e.target;\n    var user = this.state.user;\n    user[name] = value;\n    this.setState({\n      user: user\n    });\n  }\n  handleLogin(e) {\n    e.preventDefault();\n    this.setState({\n      submitted: true\n    });\n    const {\n      user\n    } = this.state;\n    if (!(user.username && user.password)) {\n      return;\n    }\n    this.setState({\n      loading: true\n    });\n    UserService.login(user).then(data => {\n      this.props.history.push(\"/home\");\n    }, error => {\n      this.setState({\n        errorMessage: \"Username or password is not valid\",\n        loading: false\n      });\n    });\n  }\n  render() {\n    const {\n      user,\n      submitted,\n      loading,\n      errorMessage\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"profile-img\",\n      className: \"profile-img-card\",\n      src: \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }), errorMessage && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, \"Error! \"), \" \", errorMessage), /*#__PURE__*/React.createElement(\"form\", {\n      name: \"form\",\n      onSubmit: e => this.handleLogin(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'form-group' + (submitted && !user.username ? 'has-error' : ''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"username\",\n      value: user.username,\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }), submitted && !user.username && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"help-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, \"Username is required\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'form-group' + (submitted && !user.password ? 'has-error' : ''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"password\",\n      value: user.password,\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }), submitted && !user.password && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"help-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, \"Password is required\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-lg btn-primary btn-block btn-signin form-submit-button\",\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, \"Login\")))));\n  }\n}","map":{"version":3,"names":["React","UserService","User","LoginPage","Component","constructor","props","currentUserValue","history","push","state","user","submitted","loading","errorMessage","handleChange","e","name","value","target","setState","handleLogin","preventDefault","username","password","login","then","data","error","render"],"sources":["/Users/vladprundus/Documents/soa/project/Service-Oriented-Architecture/soa-client/src/pages/login/login.page.jsx"],"sourcesContent":["import React from 'react';\nimport UserService from '../../services/user.service';\nimport {User} from '../../models/user';\nimport './login.page.css';\n\nexport default class LoginPage extends React.Component{\n\n  constructor(props) {\n    super(props);\n\n    if(UserService.currentUserValue) {\n      this.props.history.push('/');\n    }\n\n    this.state = {\n      user: new User('',''),\n      submitted: false,\n      loading: false,\n      errorMessage: ''\n    };\n  }\n\n  handleChange(e) {\n    var {name, value} = e.target;\n    var user = this.state.user;\n    user[name] = value;\n    this.setState({user: user});\n  }\n\n  handleLogin(e) {\n    e.preventDefault();\n\n    this.setState({submitted: true});\n    const {user} = this.state;\n\n    if(!(user.username && user.password)){\n      return;\n    }\n\n    this.setState({loading: true});\n    UserService.login(user).then(data => {\n      this.props.history.push(\"/home\");\n    }, error => {\n      this.setState({\n        errorMessage: \"Username or password is not valid\",\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    const {user, submitted, loading, errorMessage} = this.state;\n    return (\n      <div className=\"col-md-12\">\n        <div className=\"card card-container\">\n          <img id=\"profile-img\" className=\"profile-img-card\" src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"/>\n          {errorMessage &&\n            <div className=\"alert alert-danger\" role=\"alert\">\n              <strong>Error! </strong> {errorMessage}\n            </div>\n          }\n          <form name=\"form\" onSubmit={(e) => this.handleLogin(e)}>\n            <div className={'form-group' + (submitted && !user.username ? 'has-error':'')}>\n              <label htmlFor=\"username\">Username</label>\n              <input type=\"text\" className=\"form-control\" name=\"username\" value={user.username} onChange={(e)=>this.handleChange(e)}/>\n              {submitted && !user.username &&\n                <div className=\"help-block\">Username is required</div>\n              }\n            </div>\n            <div className={'form-group' + (submitted && !user.password ? 'has-error':'')}>\n              <label htmlFor=\"password\">Password</label>\n              <input type=\"password\" className=\"form-control\" name=\"password\" value={user.password} onChange={(e)=>this.handleChange(e)}/>\n              {submitted && !user.password &&\n                <div className=\"help-block\">Password is required</div>\n              }\n            </div>\n            <div className=\"form-group\">\n              <button className=\"btn btn-lg btn-primary btn-block btn-signin form-submit-button\" disabled={loading}>Login</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}