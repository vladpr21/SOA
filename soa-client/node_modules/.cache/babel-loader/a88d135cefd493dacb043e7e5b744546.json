{"ast":null,"code":"var _jsxFileName = \"/Users/vladprundus/Documents/soa/project/Service-Oriented-Architecture/soa-client/src/pages/register/register.page.jsx\";\nimport React from 'react';\nimport UserService from '../../services/user.service';\nimport { User } from '../../models/user';\nimport './register.page.css';\nexport default class RegisterPage extends React.Component {\n  constructor(props) {\n    super(props);\n    if (UserService.currentUserValue) {\n      this.props.history.push('/');\n    }\n    this.state = {\n      user: new User('', '', ''),\n      submitted: false,\n      loading: false,\n      errorMessage: ''\n    };\n  }\n  handleChange(e) {\n    var {\n      name,\n      value\n    } = e.target;\n    var user = this.state.user;\n    user[name] = value;\n    this.setState({\n      user: user\n    });\n  }\n  handleRegister(e) {\n    e.preventDefault();\n    this.setState({\n      submitted: true\n    });\n    const {\n      user\n    } = this.state;\n    if (!(user.username && user.password && user.name)) {\n      return;\n    }\n    this.setState({\n      loading: true\n    });\n    UserService.register(user).then(data => {\n      this.props.history.push(\"/login\");\n    }, error => {\n      if (error.response.status === 409) {\n        this.setState({\n          errorMessage: \"Username is not available\",\n          loading: false\n        });\n      } else {\n        this.setState({\n          errorMessage: \"Unexpected error occurred.\",\n          loading: false\n        });\n      }\n    });\n  }\n  render() {\n    const {\n      user,\n      submitted,\n      loading,\n      errorMessage\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"profile-img\",\n      className: \"profile-img-card\",\n      src: \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }), errorMessage && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, \"Error! \"), \" \", errorMessage), /*#__PURE__*/React.createElement(\"form\", {\n      name: \"form\",\n      onSubmit: e => this.handleRegister(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'form-group' + (submitted && !user.name ? 'has-error' : ''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, \"Full Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"name\",\n      value: user.name,\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }), submitted && !user.name && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"help-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, \"Full name is required\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'form-group' + (submitted && !user.username ? 'has-error' : ''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"username\",\n      value: user.username,\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }), submitted && !user.username && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"help-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, \"Username is required\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'form-group' + (submitted && !user.password ? 'has-error' : ''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"password\",\n      value: user.password,\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }), submitted && !user.password && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"help-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, \"Password is required\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-lg btn-primary btn-block btn-signin form-submit-button\",\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, \"Sign Up\")))));\n  }\n}","map":{"version":3,"names":["React","UserService","User","RegisterPage","Component","constructor","props","currentUserValue","history","push","state","user","submitted","loading","errorMessage","handleChange","e","name","value","target","setState","handleRegister","preventDefault","username","password","register","then","data","error","response","status","render"],"sources":["/Users/vladprundus/Documents/soa/project/Service-Oriented-Architecture/soa-client/src/pages/register/register.page.jsx"],"sourcesContent":["import React from 'react';\nimport UserService from '../../services/user.service';\nimport {User} from '../../models/user';\nimport './register.page.css';\n\nexport default class RegisterPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    if(UserService.currentUserValue) {\n      this.props.history.push('/');\n    }\n\n    this.state = {\n      user: new User('','',''),\n      submitted: false,\n      loading: false,\n      errorMessage: ''\n    };\n  }\n\n  handleChange(e) {\n    var { name, value } = e.target;\n    var user = this.state.user;\n    user[name] = value;\n    this.setState({user: user});\n  }\n\n  handleRegister(e) {\n    e.preventDefault();\n    this.setState({submitted: true});\n    const{user} = this.state;\n\n    if(!(user.username && user.password && user.name)) {\n      return;\n    }\n\n    this.setState({loading: true});\n    UserService.register(user).then(data => {\n      this.props.history.push(\"/login\");\n    }, error => {\n      if(error.response.status === 409) {\n        this.setState({\n          errorMessage: \"Username is not available\",\n          loading: false\n        });\n      }else {\n        this.setState({\n          errorMessage: \"Unexpected error occurred.\",\n          loading: false\n        });\n      }\n    });\n  }\n\n  render() {\n    const {user, submitted, loading, errorMessage} = this.state;\n    return (\n      <div className=\"col-md-12\">\n        <div className=\"card card-container\">\n          <img id=\"profile-img\" className=\"profile-img-card\" src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"/>\n          {errorMessage &&\n            <div className=\"alert alert-danger\" role=\"alert\">\n              <strong>Error! </strong> {errorMessage}\n            </div>\n          }\n          <form name=\"form\" onSubmit={(e) => this.handleRegister(e)}>\n            <div className={'form-group' + (submitted && !user.name ? 'has-error':'')}>\n              <label htmlFor=\"name\">Full Name</label>\n              <input type=\"text\" className=\"form-control\" name=\"name\" value={user.name} onChange={(e)=>this.handleChange(e)}/>\n              {submitted && !user.name &&\n                <div className=\"help-block\">Full name is required</div>\n              }\n            </div>\n            <div className={'form-group' + (submitted && !user.username ? 'has-error':'')}>\n              <label htmlFor=\"username\">Username</label>\n              <input type=\"text\" className=\"form-control\" name=\"username\" value={user.username} onChange={(e)=>this.handleChange(e)}/>\n              {submitted && !user.username &&\n                <div className=\"help-block\">Username is required</div>\n              }\n            </div>\n            <div className={'form-group' + (submitted && !user.password ? 'has-error':'')}>\n              <label htmlFor=\"password\">Password</label>\n              <input type=\"password\" className=\"form-control\" name=\"password\" value={user.password} onChange={(e)=>this.handleChange(e)}/>\n              {submitted && !user.password &&\n                <div className=\"help-block\">Password is required</div>\n              }\n            </div>\n            <div className=\"form-group\">\n              <button className=\"btn btn-lg btn-primary btn-block btn-signin form-submit-button\" disabled={loading}>Sign Up</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,6BAA6B;AACrD,SAAQC,IAAI,QAAO,mBAAmB;AACtC,OAAO,qBAAqB;AAE5B,eAAe,MAAMC,YAAY,SAASH,KAAK,CAACI,SAAS,CAAC;EAExDC,WAAW,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IAEZ,IAAGL,WAAW,CAACM,gBAAgB,EAAE;MAC/B,IAAI,CAACD,KAAK,CAACE,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;IAC9B;IAEA,IAAI,CAACC,KAAK,GAAG;MACXC,IAAI,EAAE,IAAIT,IAAI,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC;MACxBU,SAAS,EAAE,KAAK;MAChBC,OAAO,EAAE,KAAK;MACdC,YAAY,EAAE;IAChB,CAAC;EACH;EAEAC,YAAY,CAACC,CAAC,EAAE;IACd,IAAI;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAC9B,IAAIR,IAAI,GAAG,IAAI,CAACD,KAAK,CAACC,IAAI;IAC1BA,IAAI,CAACM,IAAI,CAAC,GAAGC,KAAK;IAClB,IAAI,CAACE,QAAQ,CAAC;MAACT,IAAI,EAAEA;IAAI,CAAC,CAAC;EAC7B;EAEAU,cAAc,CAACL,CAAC,EAAE;IAChBA,CAAC,CAACM,cAAc,EAAE;IAClB,IAAI,CAACF,QAAQ,CAAC;MAACR,SAAS,EAAE;IAAI,CAAC,CAAC;IAChC,MAAK;MAACD;IAAI,CAAC,GAAG,IAAI,CAACD,KAAK;IAExB,IAAG,EAAEC,IAAI,CAACY,QAAQ,IAAIZ,IAAI,CAACa,QAAQ,IAAIb,IAAI,CAACM,IAAI,CAAC,EAAE;MACjD;IACF;IAEA,IAAI,CAACG,QAAQ,CAAC;MAACP,OAAO,EAAE;IAAI,CAAC,CAAC;IAC9BZ,WAAW,CAACwB,QAAQ,CAACd,IAAI,CAAC,CAACe,IAAI,CAACC,IAAI,IAAI;MACtC,IAAI,CAACrB,KAAK,CAACE,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;IACnC,CAAC,EAAEmB,KAAK,IAAI;MACV,IAAGA,KAAK,CAACC,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;QAChC,IAAI,CAACV,QAAQ,CAAC;UACZN,YAAY,EAAE,2BAA2B;UACzCD,OAAO,EAAE;QACX,CAAC,CAAC;MACJ,CAAC,MAAK;QACJ,IAAI,CAACO,QAAQ,CAAC;UACZN,YAAY,EAAE,4BAA4B;UAC1CD,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ;EAEAkB,MAAM,GAAG;IACP,MAAM;MAACpB,IAAI;MAAEC,SAAS;MAAEC,OAAO;MAAEC;IAAY,CAAC,GAAG,IAAI,CAACJ,KAAK;IAC3D,oBACE;MAAK,SAAS,EAAC,WAAW;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACxB;MAAK,SAAS,EAAC,qBAAqB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAClC;MAAK,EAAE,EAAC,aAAa;MAAC,SAAS,EAAC,kBAAkB;MAAC,GAAG,EAAC,6CAA6C;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAE,EACrGI,YAAY,iBACX;MAAK,SAAS,EAAC,oBAAoB;MAAC,IAAI,EAAC,OAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAC9C;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAQ,SAAO,CAAS,KAAC,EAACA,YAAY,CAClC,eAER;MAAM,IAAI,EAAC,MAAM;MAAC,QAAQ,EAAGE,CAAC,IAAK,IAAI,CAACK,cAAc,CAACL,CAAC,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACxD;MAAK,SAAS,EAAE,YAAY,IAAIJ,SAAS,IAAI,CAACD,IAAI,CAACM,IAAI,GAAG,WAAW,GAAC,EAAE,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACxE;MAAO,OAAO,EAAC,MAAM;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAC,WAAS,CAAQ,eACvC;MAAO,IAAI,EAAC,MAAM;MAAC,SAAS,EAAC,cAAc;MAAC,IAAI,EAAC,MAAM;MAAC,KAAK,EAAEN,IAAI,CAACM,IAAK;MAAC,QAAQ,EAAGD,CAAC,IAAG,IAAI,CAACD,YAAY,CAACC,CAAC,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAE,EAC/GJ,SAAS,IAAI,CAACD,IAAI,CAACM,IAAI,iBACtB;MAAK,SAAS,EAAC,YAAY;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAC,uBAAqB,CAAM,CAErD,eACN;MAAK,SAAS,EAAE,YAAY,IAAIL,SAAS,IAAI,CAACD,IAAI,CAACY,QAAQ,GAAG,WAAW,GAAC,EAAE,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAC5E;MAAO,OAAO,EAAC,UAAU;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAC,UAAQ,CAAQ,eAC1C;MAAO,IAAI,EAAC,MAAM;MAAC,SAAS,EAAC,cAAc;MAAC,IAAI,EAAC,UAAU;MAAC,KAAK,EAAEZ,IAAI,CAACY,QAAS;MAAC,QAAQ,EAAGP,CAAC,IAAG,IAAI,CAACD,YAAY,CAACC,CAAC,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAE,EACvHJ,SAAS,IAAI,CAACD,IAAI,CAACY,QAAQ,iBAC1B;MAAK,SAAS,EAAC,YAAY;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAC,sBAAoB,CAAM,CAEpD,eACN;MAAK,SAAS,EAAE,YAAY,IAAIX,SAAS,IAAI,CAACD,IAAI,CAACa,QAAQ,GAAG,WAAW,GAAC,EAAE,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAC5E;MAAO,OAAO,EAAC,UAAU;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAC,UAAQ,CAAQ,eAC1C;MAAO,IAAI,EAAC,UAAU;MAAC,SAAS,EAAC,cAAc;MAAC,IAAI,EAAC,UAAU;MAAC,KAAK,EAAEb,IAAI,CAACa,QAAS;MAAC,QAAQ,EAAGR,CAAC,IAAG,IAAI,CAACD,YAAY,CAACC,CAAC,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAE,EAC3HJ,SAAS,IAAI,CAACD,IAAI,CAACa,QAAQ,iBAC1B;MAAK,SAAS,EAAC,YAAY;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAC,sBAAoB,CAAM,CAEpD,eACN;MAAK,SAAS,EAAC,YAAY;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACzB;MAAQ,SAAS,EAAC,gEAAgE;MAAC,QAAQ,EAAEX,OAAQ;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAC,SAAO,CAAS,CAClH,CACD,CACH,CACF;EAEV;AAEF"},"metadata":{},"sourceType":"module"}